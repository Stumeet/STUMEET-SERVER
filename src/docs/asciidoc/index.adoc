:toc-title: Stumeet API
:toc: left
:toclevels: 2
:sectnums:
:hardbreaks:
ifndef::snippets[]
:snippets: build/generated-snippets
endif::[]

= Stumeet API 문서

== 회원 관리

=== 소셜 로그인

소셜 로그인 시 사용되는 API입니다.
현재 카카오, 애플 로그인이 가능합니다.

==== POST /api/v1/oauth

===== 요청

.카카오 로그인
include::{snippets}/social_login/success/http-request.adoc[]
include::{snippets}/social_login/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/social_login/success/response-body.adoc[]
include::{snippets}/social_login/success/response-fields.adoc[]

===== 응답 실패 (401)

.유효한 토큰이 아닌 경우
include::{snippets}/social_login/fail/invalid-token/response-body.adoc[]

.토큰이 전달되지 않은 경우
include::{snippets}/social_login/fail/not-exist-header/response-body.adoc[]
include::{snippets}/social_login/fail/invalid-token/response-fields.adoc[]

.전달한 JWT 토큰의 서명이 유효하지 않은 경우
include::{snippets}/social_login/fail/invalid-signature/response-body.adoc[]
include::{snippets}/social_login/fail/invalid-signature/response-fields.adoc[]

=== 로그아웃

로그아웃 시 사용되는 API입니다.

==== POST /api/v1/logout

===== 요청

include::{snippets}/logout/success/http-request.adoc[]
include::{snippets}/logout/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/logout/success/response-body.adoc[]
include::{snippets}/logout/success/response-fields.adoc[]


=== 최초 로그인시 회원가입

최초 로그인 시 회원가입을 위해 사용되는 API입니다.

==== POST /api/v1/signup

===== 요청
include::{snippets}/signup/success/http-request.adoc[]
include::{snippets}/signup/success/request-headers.adoc[]
include::{snippets}/signup/success/request-parts.adoc[]
include::{snippets}/signup/success/query-parameters.adoc[]

===== 응답 성공 (201)
include::{snippets}/signup/success/response-body.adoc[]
include::{snippets}/signup/success/response-fields.adoc[]

===== 응답 실패 (400)
.회원가입 요청 값이 유효하지 않은 경우
include::{snippets}/signup/fail/invalid-request/response-body.adoc[]
include::{snippets}/signup/fail/invalid-request/response-fields.adoc[]

.전달한 분야 정보가 존재하지 않는 분야인 경우
include::{snippets}/signup/fail/not-exists-profession/response-body.adoc[]
include::{snippets}/signup/fail/not-exists-profession/response-fields.adoc[]

.전달한 이미지가 유효하지 않은 경우
include::{snippets}/signup/fail/invalid-image/response-body.adoc[]
include::{snippets}/signup/fail/invalid-image/response-fields.adoc[]

===== 응답 실패 (403)
.이미 가입된 회원인 경우
include::{snippets}/signup/fail/already-signup-member/response-body.adoc[]
include::{snippets}/signup/fail/already-signup-member/response-fields.adoc[]

=== 토큰 재발급

서버로 부터 받은 액세스 토큰이 만료된 경우 액세스 토큰 재발급을 위해 사용되는 API입니다.

==== POST /api/v1/tokens

===== 요청
include::{snippets}/token_renew/success/http-request.adoc[]

include::{snippets}/token_renew/success/request-body.adoc[]
include::{snippets}/token_renew/success/request-fields.adoc[]

===== 응답 성공 (200)
include::{snippets}/token_renew/success/response-body.adoc[]
include::{snippets}/token_renew/success/response-fields.adoc[]

===== 응답 실패(400)
.액세스 토큰과 매칭되는 리프레시 토큰이 없는 경우
include::{snippets}/token_renew/fail/not-match-access-token/response-body.adoc[]
include::{snippets}/token_renew/fail/not-match-access-token/response-fields.adoc[]

.액세스 토큰이나 리프레시 토큰이 전달되지 않은 경우
include::{snippets}/token_renew/fail/not-exist-request/response-body.adoc[]
include::{snippets}/token_renew/fail/not-exist-request/response-fields.adoc[]

.전달받은 리프레시 토큰과 서버의 리프레시 토큰이 다른 경우
include::{snippets}/token_renew/fail/not-matched-refresh-token/response-body.adoc[]
include::{snippets}/token_renew/fail/not-matched-refresh-token/response-fields.adoc[]

.리프레시 토큰이 만료된 경우
include::{snippets}/token_renew/fail/expired-refresh-token/response-body.adoc[]
include::{snippets}/token_renew/fail/expired-refresh-token/response-fields.adoc[]


=== 사용자 닉네임 유효성 검사

사용자 닉네임의 유효성을 검사하는 API입니다.

==== GET /api/v1/members/validate-nickname

===== 요청
include::{snippets}/validate_nickname/success/http-request.adoc[]
include::{snippets}/validate_nickname/success/request-headers.adoc[]
include::{snippets}/validate_nickname/success/query-parameters.adoc[]

===== 응답 성공 (200)

include::{snippets}/validate_nickname/success/response-body.adoc[]
include::{snippets}/validate_nickname/success/response-fields.adoc[]

===== 응답 실패 (400)

.닉네임이 유효성 검사에 실패한 경우
include::{snippets}/validate_nickname/fail/invalid/response-body.adoc[]
include::{snippets}/validate_nickname/fail/invalid/response-fields.adoc[]

.닉네임이 이미 존재하는 경우
include::{snippets}/validate_nickname/fail/duplicate/response-body.adoc[]
include::{snippets}/validate_nickname/fail/duplicate/response-fields.adoc[]

=== 내 정보 조회

==== GET /api/v1/members/me

===== 요청
include::{snippets}/get-my-profile/success/http-request.adoc[]
include::{snippets}/get-my-profile/success/request-headers.adoc[]

===== 응답 (200)
include::{snippets}/get-my-profile/success/response-body.adoc[]
include::{snippets}/get-my-profile/success/response-fields.adoc[]

=== 사용자 정보 수정

==== PATCH /api/v1/members/me

===== 요청
include::{snippets}/update-my-profile/success/http-request.adoc[]
include::{snippets}/update-my-profile/success/request-headers.adoc[]
include::{snippets}/update-my-profile/success/request-parts.adoc[]
include::{snippets}/update-my-profile/success/query-parameters.adoc[]

===== 응답 성공 (200)
include::{snippets}/update-my-profile/success/response-body.adoc[]
include::{snippets}/update-my-profile/success/response-fields.adoc[]

===== 응답 실패 (400)
include::{snippets}/update-my-profile/fail/invalid-request/response-body.adoc[]
include::{snippets}/update-my-profile/fail/invalid-request/response-fields.adoc[]


== 분야 관리

=== 분야 정보 전체 조회

모든 분야 정보를 조회하는 API입니다.

==== GET /api/v1/professions

===== 요청
include::{snippets}/find_professions/success/http-request.adoc[]

include::{snippets}/find_professions/success/request-headers.adoc[]
===== 응답 성공 (200)

include::{snippets}/find_professions/success/response-body.adoc[]
include::{snippets}/find_professions/success/response-fields.adoc[]


== 스터디 관리

=== 스터디 상세 정보 조회

스터디 상세 정보를 조회하는 API입니다.

==== GET /api/v1/studies/{id}

===== 요청
include::{snippets}/get-study-detail/success/http-request.adoc[]
include::{snippets}/get-study-detail/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/get-study-detail/success/response-body.adoc[]
include::{snippets}/get-study-detail/success/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디 ID를 요청한 경우
include::{snippets}/get-study-detail/fail/not-found/response-body.adoc[]
include::{snippets}/get-study-detail/fail/not-found/response-fields.adoc[]


=== 가입 스터디 리스트 조회

사용자가 가입된 스터디 리스트를 조회하는 API입니다.

==== GET /api/v1/studies

===== 요청
include::{snippets}/get-joined-studies/success/http-request.adoc[]
include::{snippets}/get-joined-studies/success/request-headers.adoc[]
include::{snippets}/get-joined-studies/success/query-parameters.adoc[]

===== 응답 성공 (200)
include::{snippets}/get-joined-studies/success/response-body.adoc[]
include::{snippets}/get-joined-studies/success/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디 상태로 요청한 경우
include::{snippets}/get-joined-studies/fail/study-status-not-found/response-body.adoc[]
include::{snippets}/get-joined-studies/fail/study-status-not-found/response-fields.adoc[]


=== 스터디 생성

스터디를 생성하는 API 입니다.

==== POST /api/v1/studies

===== 요청
include::{snippets}/create-study/success/http-request.adoc[]

===== 헤더
include::{snippets}/create-study/success/request-headers.adoc[]

===== 파트
include::{snippets}/create-study/success/request-parts.adoc[]

===== 요청 본문 매개변수
include::{snippets}/create-study/success/request-part-request-fields.adoc[]

===== 응답 성공 (200)
include::{snippets}/create-study/success/response-body.adoc[]
include::{snippets}/create-study/success/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디 분야 ID를 요청한 경우
include::{snippets}/create-study/fail/study-field-not-found/response-body.adoc[]
include::{snippets}/create-study/fail/study-field-not-found/response-fields.adoc[]

.일정 반복 유형 DAILY일 때를 제외하고 반복일을 null 값으로 요청한 경우
include::{snippets}/create-study/fail/invalid-study-meeting-schedule/response-body.adoc[]
include::{snippets}/create-study/fail/invalid-study-meeting-schedule/response-fields.adoc[]


=== 스터디 수정

스터디 정보를 수정하는 API 입니다.

==== PATCH /api/v1/studies/{studyId}

===== 요청
include::{snippets}/update-study/success/http-request.adoc[]

===== 헤더
include::{snippets}/update-study/success/request-headers.adoc[]

===== 파트
include::{snippets}/update-study/success/request-parts.adoc[]

===== 요청 본문 매개변수
include::{snippets}/update-study/success/request-part-request-fields.adoc[]

===== 응답 성공 (200)
include::{snippets}/update-study/success/response-body.adoc[]
include::{snippets}/update-study/success/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디 분야 ID를 요청한 경우
include::{snippets}/update-study/fail/study-field-not-found/response-body.adoc[]
include::{snippets}/update-study/fail/study-field-not-found/response-fields.adoc[]

.일정 반복 유형 DAILY일 때를 제외하고 반복일을 null 값으로 요청한 경우
include::{snippets}/update-study/fail/invalid-study-meeting-schedule/response-body.adoc[]
include::{snippets}/update-study/fail/invalid-study-meeting-schedule/response-fields.adoc[]


== 스터디 멤버 관리

=== 스터디 멤버 조회

전달받은 스터디 ID의 속한 멤버들을 조회하는 API입니다.

==== GET /v1/api/studies/{studyId}/members

===== 요청

include::{snippets}/get-study-members/success/http-request.adoc[]
include::{snippets}/get-study-members/success/path-parameters.adoc[]
include::{snippets}/get-study-members/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/get-study-members/success/response-body.adoc[]
include::{snippets}/get-study-members/success/response-fields.adoc[]

===== 응답 실패 (403)
include::{snippets}/get-study-members/fail/not-joined-member/response-body.adoc[]
include::{snippets}/get-study-members/fail/not-joined-member/response-fields.adoc[]

===== 응답 실패 (404)
include::{snippets}/get-study-members/fail/not-exist-study/response-body.adoc[]
include::{snippets}/get-study-members/fail/not-exist-study/response-fields.adoc[]

=== 스터디 멤버 탈퇴

전달받은 스터디에 대해 탈퇴하는 API입니다.

==== DELETE /v1/api/studies/{studyId}/members/me

===== 요청
include::{snippets}/leave-study/success/http-request.adoc[]
include::{snippets}/leave-study/success/request-headers.adoc[]
include::{snippets}/leave-study/success/path-parameters.adoc[]

===== 응답 성공 (200)
.스터디 탈퇴 성공
include::{snippets}/leave-study/success/response-body.adoc[]
include::{snippets}/leave-study/success/response-fields.adoc[]

===== 응답 실패 (403)
.스터디에 가입한 멤버가 아닌 경우
include::{snippets}/leave-study/fail/not-joined-member/response-body.adoc[]
include::{snippets}/leave-study/fail/not-joined-member/response-fields.adoc[]

===== 응답 실패 (404)
.전달한 스터디가 존재하지 않는 경우
include::{snippets}/leave-study/fail/not-exist-study/response-body.adoc[]
include::{snippets}/leave-study/fail/not-exist-study/response-fields.adoc[]

=== 스터디 멤버 강퇴

스터디 멤버를 강퇴하는 API입니다.

==== DELETE /v1/api/studies/{studyId}/members/{memberId}

===== 요청
include::{snippets}/kick-study/success/http-request.adoc[]
include::{snippets}/kick-study/success/request-headers.adoc[]
include::{snippets}/kick-study/success/path-parameters.adoc[]

===== 응답 성공 (200)
include::{snippets}/kick-study/success/response-body.adoc[]
include::{snippets}/kick-study/success/response-fields.adoc[]

===== 응답 실패 (403)
include::{snippets}/kick-study/fail/not-joined-member/response-body.adoc[]
include::{snippets}/kick-study/fail/not-joined-member/response-fields.adoc[]

include::{snippets}/kick-study/fail/not-admin/response-body.adoc[]
include::{snippets}/kick-study/fail/not-admin/response-fields.adoc[]
===== 응답 실패 (404)
include::{snippets}/kick-study/fail/not-exist-study/response-body.adoc[]
include::{snippets}/kick-study/fail/not-exist-study/response-fields.adoc[]

=== 스터디 가입

멤버가 스터디에 가입할 때 사용하는 API 입니다.

==== POST /v1/api/studies/{studyId}/members

===== 요청
include::{snippets}/study-member-join/success/http-request.adoc[]
include::{snippets}/study-member-join/success/path-parameters.adoc[]
include::{snippets}/study-member-join/success/request-headers.adoc[]

===== 응답 성공 (201)
include::{snippets}/study-member-join/success/response-body.adoc[]
include::{snippets}/study-member-join/success/response-fields.adoc[]

===== 응답 실패 (403)
.이미 스터디에 가입한 멤버인 경우
include::{snippets}/study-member-join/fail/already-join-member/response-body.adoc[]
include::{snippets}/study-member-join/fail/already-join-member/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디에 가입을 요청한 경우
include::{snippets}/study-member-join/fail/not-exist-study/response-body.adoc[]
include::{snippets}/study-member-join/fail/not-exist-study/response-fields.adoc[]

.존재하지 않는 멤버가 가입을 요청한 경우
include::{snippets}/study-member-join/fail/not-exist-member/response-body.adoc[]
include::{snippets}/study-member-join/fail/not-exist-member/response-fields.adoc[]

== 파일 관리

=== Presigned URL 발급

파일 업로드를 위한 Presigned URL을 발급하는 API입니다.

해당 API는 1시간동안 유효합니다.

==== POST /api/v1/presigned-url

===== 요청

include::{snippets}/presigned-url-generate/success/http-request.adoc[]
include::{snippets}/presigned-url-generate/success/request-headers.adoc[]
include::{snippets}/presigned-url-generate/success/request-fields.adoc[]

include::file-management-path.adoc[]

===== 응답 성공 (200)
include::{snippets}/presigned-url-generate/success/response-body.adoc[]
include::{snippets}/presigned-url-generate/success/response-fields.adoc[]

===== 응답 실패 (400)
.파일이름이 유효하지 않은 경우
include::{snippets}/presigned-url-generate/fail/invalid-file-name/response-body.adoc[]
include::{snippets}/presigned-url-generate/fail/invalid-file-name/response-fields.adoc[]

.파일의 확장자가 유효하지 않은 경우
include::{snippets}/presigned-url-generate/fail/invalid-file-extension/response-body.adoc[]
include::{snippets}/presigned-url-generate/fail/invalid-file-extension/response-fields.adoc[]

== 스터디 활동 관리

=== 스터디 활동 생성

스터디 활동을 생성하는 API입니다.

==== POST /api/v1/studies/{studyId}/activities

===== 요청
include::{snippets}/create-activity/success/http-request.adoc[]
include::{snippets}/create-activity/success/path-parameters.adoc[]
include::{snippets}/create-activity/success/request-headers.adoc[]
include::{snippets}/create-activity/success/request-fields.adoc[]

===== 응답 성공 (201)
.응답 없음
include::{snippets}/create-activity/success/response-body.adoc[]

===== 응답 실패 (400)
.활동 생성 요청 값이 유효하지 않은 경우
include::{snippets}/create-activity/fail/invalid-request/response-body.adoc[]
include::{snippets}/create-activity/fail/invalid-request/response-fields.adoc[]

.존재하지 않는 활동 카테고리로 요청한 경우
include::{snippets}/create-activity/fail/not-exists-category/response-body.adoc[]
include::{snippets}/create-activity/fail/not-exists-category/response-fields.adoc[]
===== 응답 실패 (403)
.스터디의 관리자가 아닌 경우
include::{snippets}/create-activity/fail/not-admin/response-body.adoc[]
include::{snippets}/create-activity/fail/not-admin/response-fields.adoc[]

====== 응답 실패 (404)
.존재하지 않는 스터디 ID를 요청한 경우
include::{snippets}/create-activity/fail/not-exists-study/response-body.adoc[]
include::{snippets}/create-activity/fail/not-exists-study/response-fields.adoc[]

=== 스터디 활동 단일 조회

스터디 활동을 단일 조회하는 API입니다.

==== GET /api/v1/studies/{studyId}/activities/{activityId}

===== 요청
include::{snippets}/get-activity-by-id/success/http-request.adoc[]
include::{snippets}/get-activity-by-id/success/path-parameters.adoc[]
include::{snippets}/get-activity-by-id/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/get-activity-by-id/success/response-body.adoc[]
include::{snippets}/get-activity-by-id/success/response-fields.adoc[]

===== 응답 실패(403)
.스터디의 멤버가 아닌 경우
include::{snippets}/get-activity-by-id/fail/not-joined-study/response-body.adoc[]
include::{snippets}/get-activity-by-id/fail/not-joined-study/response-fields.adoc[]

===== 응답 실패 (404)
.존재하지 않는 스터디를 전달한 경우
include::{snippets}/get-activity-by-id/fail/study-not-found/response-body.adoc[]
include::{snippets}/get-activity-by-id/fail/study-not-found/response-fields.adoc[]

.존재하지 않는 활동을 전달한 경우
include::{snippets}/get-activity-by-id/fail/activity-not-found/response-body.adoc[]
include::{snippets}/get-activity-by-id/fail/activity-not-found/response-fields.adoc[]

=== 스터디 활동에 참여중인 멤버 조회

스터디 활동에 참여중인 멤버를 조회하는 API입니다.

==== GET /api/v1/studies/{studyId}/activities/{activityId}/members

===== 요청
include::{snippets}/get-activity-participants/success/http-request.adoc[]
include::{snippets}/get-activity-participants/success/path-parameters.adoc[]
include::{snippets}/get-activity-participants/success/request-headers.adoc[]

===== 응답 성공 (200)
include::{snippets}/get-activity-participants/success/response-body.adoc[]
include::{snippets}/get-activity-participants/success/response-fields.adoc[]

===== 응답 실패(404)
.존재하지 않는 스터디를 전달한 경우
include::{snippets}/get-activity-participants/fail/not-found-study/response-body.adoc[]
include::{snippets}/get-activity-participants/fail/not-found-study/response-fields.adoc[]

.존재하지 않는 활동을 전달한 경우
include::{snippets}/get-activity-participants/fail/not-found-activity/response-body.adoc[]
include::{snippets}/get-activity-participants/fail/not-found-activity/response-fields.adoc[]
